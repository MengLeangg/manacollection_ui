if(typeof candid==="undefined"){var candid={host:"api.getcandid.com",closeOnBack:false,hash:"candid",syncDomain:"",lastIndex:-1,lastControlId:"",widgetIndex:0,data:null,tags:[],loadedOptions:[],page:0,results:{data:[]},isWall:false,defaultOptions:{autoplay:true,autoplayMobile:false,delimiters:["{{","}}"],hideIfEmpty:true,externalScriptsLoaded:false,placeholderDisplay:"block",isotope:{masonry:{isFitWidth:true}},clientWidthThreshold:50,controlNav:true,currencySymbol:"$",customTags:null,approvalFilter:"Approved",rightsFilter:null,host:"api.getcandid.com",layout:"",layoutMode:"masonry",linksTarget:"_blank",linksHeading:"Shop this look",inlineHeading:false,loadMoreHtml:'<i class="candid-icon candid-fa-plus-circle"></i>Load More...',loadingAnimation:true,margin:2,maxItems:6,mediaTemplateId:"mediaTemplate",width:200,count:40,min:0,cache:true,scale:true,slideshow:true,animationLoop:true,animationSpeed:1000,slideshowSpeed:7000,ignoreExternalCss:false,scroll:true,scrollTags:false,useDescription:false,maxTagsPerRequest:25,overlayPosition:"top",fb:false},extend:function(){for(var b=1;b<arguments.length;b++){for(var a in arguments[b]){if(arguments[b].hasOwnProperty(a)){arguments[0][a]=arguments[b][a]}}}return arguments[0]},analytics:function(){var a=this.cluster;p="529cd27100111c5d4c000001",w="7bbffa5e8dcf2817c4bc89e537d2666f87d4ea1f14ad3c749e6ce5210b7dfaec4f4a70a66784c4605be76d36fc731f3f6d773d37233ab1026e70d9b832cf894ba5aca490e4ac3e521e42f2c371a5d3277f88850a19f36025f8486281a8dde11a97222514b9c990fac123c9bab661cd71";if(this.keen==null){if(a=="us-west"){p="57bbc7f98db53dfda8a6cce4";w="18679367892505C002B4069B9CFDE63153542E72C0139CE18EDD02BDA2C9268D1A960640A73BEA2BE472E441993A308163AF345F210285BE4D0B179F83C39D11E3672CAC9AF7059E084729650C9F3ADBAEB52C298E1DFF3FA1F2D1751FF66CEC"}else{if(a=="uk-south"){p="57e1afda8db53dfda8a70460";w="6C72E7C1127475B1F803772950C0762A0A8D324379063E7F4738D7C3E6AFDECDECA545F5431044A6326A14171657CCCCE7F927F8C0B040AF593EE17788F4B4B4A80056E9177708F1C5A41778103B113CF3F7BF697C75E3C612660302EC43CE47"}else{if(a=="uk-west"){p="57e555b08db53dfda8a70b15";w="D6B6D4538408CCA6BE8999577EBEC1A37DAE6411987EFC5CDDA7A459E700840CB05CCEEEF011D843297FC0D6AC0D0BC3934AED0022C73A490475BC9BC25E018DEC333C4D43E0C48B25A22A12EFF1FAC270537A43A50C55247A1AADA710B8B171"}else{if(a=="ca-east"||a=="reitmans"){p="58e2e21154532cb1704d473d";w="1885EAE895E0028625986CB647C85137B341CDFE78BEAB9A2464B75BDC510F73A3533250E8B76173C556C540CC479D3B9748DAF1CF2B2380914F7DF9C5EDBEAC659634B3CE888498ADE46D2B359BFCC152B2E1C6FBC41FF7C9FF08BB1C56DBFF"}else{if(a=="prod-2"){p="590731e554532cb1704d50da";w="B782E124E064C05E2C21C170E7CE1A5686B832FC5EF4F3B77FE4112DE80358C63C5A36A25295808E62943A6450C7403F5738D3EB72DC323CC23A8A656E80B8D4392D9D89C34BAC1CA6396BEDD9CDB16DBD55900339E0D9E8F8916695A6CB0297"}else{if(a=="prod-3"){p="59b847b8c9e77c00015e705a";w="5CAABF79460A89D896132BC64738F083442C1B8C1902ED92ED3EE5A78F8B3545F53AF44CF450FA3F87A12DBFC219FC7C66A2DD6EB79105BCC10E4E213BD251F289403E50CDE466EE78EFAE0F9DE53EF2965C9C1AEF86020DFD92AAE233F2C6EB"}else{if(a!=null&&a.length>20){p=a.split("-")[0];w=a.split("-")[1]}}}}}}}this.keen=new Keen({projectId:p,writeKey:w,requestType:"beacon"})}return this.keen},wallError:function(){var a=jQuery(this);var g=a.closest(".candid-wall-container");var e=a.closest("a.media").data("media-index");var f=g.data("candid-results");if(f&&e&&f.data.length>e){f.data[e].ignore=true}var b=a.closest(".candid-wall-cell");if(g.isotope&&g.data("isotope")){g.isotope("remove",b)}else{b.hide()}},pageWall:function(a,b){jQuery(window).data("pageready",false);this.renderWallPage(a,b)},renderWallPage:function(a,c){var f=[];var e=(c.forceSSL?"https:":"")+"//"+c.host;var g=jQuery(a);var b=g.data("candid-page")==0?c.highlight:"";var d="id="+c.id+(b?"&highlight="+b:"")+this.queryParameters(c,["ids","tag","tagsCount","tagsOp","concept","term","type","query","startDate","endDate","rightsFilter","approvalFilter","sort","source","includeTags"])+"&page="+g.data("candid-page")+"&pageSize="+c.count+"&cache="+c.cache;var h=d.length>=2000?"POST":"GET";jQuery.ajax({url:(h=="POST"?e+"/stream/page/?id="+c.id:e+"/stream/page/?"+d),type:h,cache:true,data:(h=="POST"?d:null),dataType:"text",error:function(i){if(typeof(c.error)=="function"){c.error.call(g,i)}},success:function(o){o=JSON.parse(o);if(typeof(c.callback)=="function"){c.callback.call(g,o)}g.data("candid-results").settings=o.Settings;var q=o.Settings.DisplaySettings.TagDisplayMappings;if(o.Settings.DisplaySettings.CloseOnBack){candid.closeOnBack=true}if(o.Tags){g.data("candid-tags",g.data("candid-tags").concat(o.Tags))}if(q&&c.tag){for(var n=0;n<q.length;n++){if(q[n].TagId==c.tag){c.display=q[n].Display;break}}}if(null!=o&&o.Views){o=o.Views}if(g.data("candid-page")==0){g.html("");if(!g.next().hasClass("candid-wall-load-more")&&null!=o&&o.length>=c.count&&c.loadMoreHtml!=null){g.after(jQuery("<a class='candid-wall-load-more "+(c.theme||c.overlayTheme||"")+"'>"+c.loadMoreHtml+"</a>").click(function(){candid.pageWall(a,c)}))}}if(null!=o&&o.length){g.data("candid-page",g.data("candid-page")+1);for(var n=0;n<o.length;n++){var l=n+g.data("candid-results").data.length;if(!c.renderless){var m=typeof jsviews!="undefined"?jsviews.render.mediaTemplate({Index:l,Media:o[n].Media,Entry:o[n].StreamEntry}):jQuery("#"+c.mediaTemplateId).render({Index:l,Media:o[n].Media,Entry:o[n].StreamEntry});var k=jQuery(m);g.append(k);if(g.isotope&&g.data("isotope")){g.isotope("appended",k)}if(c.limit>0&&g.find(".candid-wall-cell").length>=c.limit&&g.next().hasClass("candid-wall-load-more")){g.next().hide()}k.find("img.lazy").each(function(){this.onerror=candid.wallError;var s=jQuery(this).attr("data-original");jQuery(this).attr("src",c.scale&&s&&s.split(/\#|\?/)[0].split(".").pop()!="mp4"?candid.scaled(e,s,Math.max(jQuery(this).width(),200)):s);var r=jQuery(this).attr("src")||s,j=(r||"").split(/\#|\?/)[0].split(".").pop();if(j=="mp4"&&r){var i=/Mobi/.test(navigator.userAgent);jQuery(this).replaceWith(i?"<video muted autoplay playsinline onplay='this.pause();' src='"+r+"'></video>":"<video muted src='"+r+"'></video>")}})}if(null!=o[n].StreamEntry&&null!=o[n].StreamEntry.Tags){for(var l=0;l<o[n].StreamEntry.Tags.Items.length;l++){if(null!=o[n].StreamEntry.Tags.Items[l].TagId&&f.indexOf(o[n].StreamEntry.Tags.Items[l].TagId)==-1){f.push(o[n].StreamEntry.Tags.Items[l].TagId)}}}}if(g.isotope&&g.data("isotope")){g.isotope("layout");setTimeout(function(){jQuery(window).trigger("scroll")},500)}for(n=0,l=f.length;n<l;n+=c.maxTagsPerRequest){jQuery.ajax({url:encodeURI(e+"/stream/tags/?id="+c.id+"&cache="+c.cache+"&format=json&filter="+f.slice(n,n+c.maxTagsPerRequest).join())+(c.display?"&display="+c.display:""),cache:true,dataType:"text",success:function(i){var j=JSON.parse(i);g.data("candid-tags",g.data("candid-tags").concat(j));g.find("img.candid-product:not([src])").each(function(){var s=jQuery(this).closest(".candid-wall-cell");var r=candid.getTagFromSet(jQuery(this).data("tag-id"),j);if(null!=r){candid.preloadImage(r.ImageUrl,(function(t,u){return function(){t.src=u}})(this,r.ImageUrl),(function(t){return function(){t.addClass("product-not-set")}}(s)))}else{if(!jQuery(this).data("tag-id")){s.addClass("product-not-set")}}})}})}jQuery.merge(g.data("candid-results").data,o);if(b){setTimeout(function(){g.find("a.media:first").click()},500)}}else{if(null!=o&&o.length==0){jQuery("a.candid-wall-load-more").fadeOut()}}if(typeof(c.ready)=="function"){c.ready.call(g,o)}jQuery(window).data("pageready",true)}})},isIE:function(){var a=navigator.userAgent.toLowerCase();return(a.indexOf("msie")!=-1)?parseInt(a.split("msie")[1]):false},wall:function(a,c){var b=this.extend({},this.defaultOptions,c);this.host=b.host;this.cluster=b.cluster;if(!c.count&&b.layoutMode=="packery"){b.count=28}if(this.getParameterByName("candid_id")){b.highlight=this.getParameterByName("candid_id")}candid.isWall=true;candid.loadedOptions["candid.wall"]=b;if(!b.disableLoadTracking){candid.analytics().addEvent("wall-load",{StreamId:b.id,Url:window.location,RawUrl:window.location.toString(),Referrer:document.referrer,CandidUserId:candid.uniqueUserId(),UserAgent:"${keen.user_agent}",keen:{addons:[{name:"keen:url_parser",input:{url:"RawUrl"},output:"ParsedUrl"},{name:"keen:ua_parser",input:{ua_string:"UserAgent"},output:"ParsedUserAgent"}]}})}if(!this.e("candid-wall-css")){if(!b.ignoreExternalCss){jQuery("head").prepend('<link rel="stylesheet" type="text/css" href="//'+b.host+"/stream/css/?id="+b.id+"&cache="+b.cache+'" id="candid-css-overrides">')}jQuery("head").prepend('<link rel="stylesheet" type="text/css" href="//'+b.host+'/content/widget.css" id="candid-wall-css">');jQuery("body").prepend(candid.renderOverlay(b));if(b.fb){jQuery("body").addClass("candid-fb")}if(jQuery(document).on){jQuery(document).on("click","a.media",function(){var f=jQuery(this).closest(".candid-wall-container");candid.mediaClick(this,f)});jQuery(document).on("click",".candid-wall-overlay-text",function(){var f=jQuery(this).next("a.media").trigger("click")})}else{jQuery("a.media").live("click",function(){var f=jQuery(this).closest(".candid-wall-container");candid.mediaClick(this,f)});jQuery(".candid-wall-overlay-text").live("click",function(){var f=jQuery(this).next("a.media").trigger("click")})}}var e=function(){var g=jQuery(a);var f=(b.forceSSL?"https:":"")+"//"+b.host;if(null!=jQuery.views){jQuery.views.settings.delimiters(b.delimiters[0],b.delimiters[1]);jQuery.views.helpers({httpsUrl:candid.httpsUrl,getPrimaryProduct:function(j){for(var h=0;h<j.Tags.Items.length;h++){if(j.Tags.Items[h].TagType=="Product"){return j.Tags.Items[h].TagId}}return null}})}g.data("candid-results",{streamId:b.id,data:[]}).data("candid-tags",[]).data("candid-page",0).addClass("candid-wall-container "+(b.theme||b.overlayTheme||""));if(b.layout.lastIndexOf("isotope",0)===0){g.html("");if(g.isotope){if(g.data("isotope")){g.isotope("destroy")}g.addClass("candid-wall-isotope candid-wall-"+b.layoutMode+" layout-"+b.layout).isotope({itemSelector:".candid-wall-cell",layoutMode:b.layoutMode,masonry:{isFitWidth:b.isotope.masonry.isFitWidth}});g.on("removeComplete",function(){g.isotope("layout")}).on("layoutComplete",function(){g.find("img.lazy").each(function(){var h=jQuery(this).attr("data-original");jQuery(this).attr("src",b.scale&&h&&h.split(".").pop().split(/\#|\?/)[0]!="mp4"?candid.scaled(f,h,jQuery(this).width()):h)})})}}jQuery("a.candid-wall-load-more").remove();if(b.loadingAnimation){g.append('<div style="min-height:100px;position:relative;">                                          <ul class="candid-spinner"><li></li><li></li><li></li><li></li></ul>                                        </div>')}if(typeof jsviews!="undefined"){jsviews.templates({mediaTemplate:document.getElementById(b.mediaTemplateId).innerHTML})}candid.renderWallPage(a,b)};if(!candid.externalScriptsLoaded){jQuery.ajax({dataType:"script",url:"//"+b.host+"/scripts/"+(this.isIE()==8||this.isIE()==9?"wall.ie.js":"wall.js"),cache:true,success:function(){candid.externalScriptsLoaded=true;if(jQuery.isReady){e()}else{jQuery(document).ready(e)}}})}else{e()}if(null!=jQuery(window).data("candid-scroll")){jQuery(window).unbind("scroll",jQuery(window).data("candid-scroll"))}if(b.scroll){var d=function(){if(jQuery(window).data("pageready")!=true){return}if(jQuery(document).height()==jQuery(window).height()){return}if(jQuery(window).scrollTop()>=(jQuery(document).height()-jQuery(window).height()-200)){candid.pageWall(a,b)}};jQuery(window).data("candid-scroll",d).data("pageready",false).scroll(d)}},scaled:function(c,b,a){return this.p(c,b,"w="+Math.round(a))},p:function(b,a,d){if(a.indexOf(".getcandid.com/image/")>0){return a+"?"+d}var e=a.replace(/^https?:\/\//i,"").replace("&_nc_eui2=","/_nc_eui2=");return b+"/image/h/"+(e.length>260?"?url=https://"+encodeURIComponent(e)+"&"+d:encodeURIComponent(e)+"?"+d)},mediaClick:function(a,d){var b=jQuery(a);window.postMessage(JSON.stringify({results:d.data("candid-results"),tags:d.data("candid-tags"),controlId:"candid.wall",index:b.attr("data-media-index")||0}),"*");return false},queryParameters:function(d,a){var c="";for(var b=0;b<a.length;b++){if(d[a[b]]){c+="&"+a[b]+"="+d[a[b]]}}return c},init:function(b){var a=this.extend({},this.defaultOptions,b);this.host=a.host;this.cluster=a.cluster;if(!a.id){return}if(this.getParameterByName("candid_id")){a.highlight=this.getParameterByName("candid_id")}if(a.tagUrl){a.tagUrl=decodeURIComponent(a.tagUrl)}if(a.width){a.width=parseInt(a.width)}if(!this.e("candid-css")){candid.appendLink("//"+a.host+"/content/widget.css","candid-css");if(!a.ignoreExternalCss){candid.appendLink("//"+a.host+"/stream/css/?id="+a.id+"&cache="+a.cache,"candid-css-overrides")}}(function(k){var c=a.overlayPosition;if(c=="inline"){k.write(candid.renderOverlay(a))}else{var g=k.createElement("div");g.innerHTML=candid.renderOverlay(a);var i=k.getElementsByTagName("body")[0];if(c=="top"){i.insertBefore(g,i.firstChild)}else{if(c=="bottom"){i.appendChild(g)}}}var l="cw_"+candid.widgetIndex;var f='<iframe id="'+l+'" src="javascript:false;" style="width:100%;border:none;overflow:hidden;height:'+(a.height||a.width+(a.controlNav?20:0))+'px;visibility:hidden;" frameBorder="0" scrolling="no" title="Community Inspired Commerce | Powered By Candid"></iframe>';if(a.containerId){k.getElementById(a.containerId).innerHTML=f}else{k.write(f)}candid.loadedOptions[l]=a;var h=k.getElementById(l);candid.widgetIndex=candid.widgetIndex+1;doc=h.contentWindow.document;var m=(a.forceSSL?"https:":"")+"//"+a.host+"/stream/frame/?id="+a.id+"&cId="+l+"&margin="+a.margin+"&controlNav="+a.controlNav+"&width="+a.width+"&count="+a.count+"&min="+a.min+candid.queryParameters(a,["tag","tagsCount","tagsOp","concept","term","notTerm","type","approvalFilter","rightsFilter","linkMode","highlight","source","ids","group","ignoreExternalCss","plugin","theme","fallbackTag","fillTag","move","sort"])+(a.tagUrl?"&tagUrl="+encodeURIComponent(a.tagUrl):"")+"&slideshow="+a.slideshow+"&animationLoop="+a.animationLoop+"&animationSpeed="+a.animationSpeed+"&slideshowSpeed="+a.slideshowSpeed+(a.scale?"&scale=true":"")+"&cache="+a.cache;if(candid.isIE()>0||(!!window.MSInputMethodContext)){h.contentWindow.location.replace(m)}else{doc.open().write("<body onload=\"setTimeout(function() { document.location.replace('"+m+"'); }, 5);\">");try{doc.close()}catch(j){}}})(document)},appendLink:function(b,c){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href=b;a.id=c;document.getElementsByTagName("head")[0].appendChild(a)},profileOnRight:function(a){return(a.overlayTheme!="ct-revolve")},oneTag:function(a){return(a.overlayTheme=="ct-parker")},renderOverlay:function(a){if(null!=this.e("candid-overlay")){return""}var b='<a id="overlay-profile-img-link" target="_blank"><img id="overlay-profile-img" class="user-avatar" src="//api.getcandid.com/images/blank.png" alt="Profile"></img></a>                            <div class="name" id="overlay-profile-img-sub">                             <h3 class="user-name" title="User"><a id="overlay-profile-username" target="_blank">Username</a></h3>                             <p class="user-fullname" id="overlay-profile-fullname"></p>                            </div>';return'<div id="candid-overlay" class="'+(a.overlayTheme||"")+(a.buyText?" hasBuy":"")+'" style="visibility:hidden;position:fixed;" tabindex="0" onclick="candid.overlay(event, \'hidden\');">                     <div class="wrapper" onclick="event.stopPropagation()">                         <div class="inner">                             <div class="overlay-img-container">                                 <div id="candid-image-overlay" class="candid-image-overlay">                                     <div class="candid-zoom-overlay" id="candid-zoom-overlay"></div>                                     <div class="candid-zoom-overlay-footer" id="candid-zoom-overlay-footer"></div>                                     '+(this.profileOnRight(a)?"":b)+'                                     <div class="candid-zoom-overlay-footer-mobile" id="candid-zoom-overlay-footer-mobile"></div>                                 </div>                                 <div class="candid-zoom-overlay-play" id="candid-zoom-overlay-play"><span class="halflings play"></span></div>                                 <video controls playsinline autoplay id="candid-overlay-video"></video>                                 <div id="candid-overlay-iframe"></div>                                 <a id="candid-overlay-img-link" target="'+a.linksTarget+'"><img id="candid-overlay-img-bg" src="//api.getcandid.com/images/blank.png" alt="Background" /><img id="candid-overlay-img" src="//api.getcandid.com/images/blank.png" alt="Overlay" /><span class="candid-carousel"></span></a>                             </div>                             <div class="profile-wrap">                                 '+(this.profileOnRight(a)?b:"")+'                                 <div id="candid-overlay-caption"></div>                                 <div id="candid-overlay-share"></div>                                 <div id="candid-overlay-links">                                     <div class="links-heading" id="candid-overlay-link-heading"><span>'+a.linksHeading+'</span></div>                                     <div id="candid-overlay-link-items"></div>                                 </div>                                 <div class="gallery-container" id="candid-overlay-gallery-container">                                     <a href="//www.getcandid.com/stream/gallery/?id='+a.id+'&zone=true" title="Browse the full collection" aria-label="Browse the full collection" target="_blank"><i class="candid-icon candid-fa-th"></i></a>                                 </div>                                 <div class="candid-by-container" id="candid-overlay-by-container">                                     <a href="//www.getcandid.com/products/?utm_source=widget&id='+a.id+'" class="by-logo-text" target="_blank" title="Community Inspired Commerce | Powered by Candid"><em>Powered by</em> Candid</a>                                 </div>                             </div>                         </div>                         <div class="controls">                             <a class="candid-close" onclick="candid.overlay(event, \'hidden\');" aria-label="Close" title="Close"></a>                             <div style="clear:both">                                 <a class="candid-prev" onclick="candid.prev(event);" id="candid-prev" aria-label="Previous" title="Previous"></a>                                 <a class="candid-next" onclick="candid.next(event);" id="candid-next" aria-label="Next" title="Next"></a>                             </div>                         </div>                         <div class="candid-shortcuts">keyboard shortcuts: <span>&larr; previous</span><span>&rarr; next</span><span>&#8629; click</span><div id="candid-edit" style="display:none"></div></div>                     </div>                 </div>                 <div id="candid-progress" style="visibility:hidden;position:fixed;">                     <div class="candid-progress-inner">                         <div class="inner">                             <span id="candid-progress-text"></span>                             <form id="candid-uploadfields">                                 <p style="visibility:hidden" id="candid-uploadfields-error">&nbsp;</p>                                 <p><label for="candid_name" style="display:inline-block;width:0">Name</label><input type="text" name="candid_name" id="candid_name" label="Name" /></p>                                 <p><label for="candid_email" style="display:inline-block;width:0">Email</label><input type="email" name="candid_email" id="candid_email" label="Email" /></p>                                 <p><label for="candid_caption" style="display:inline-block;width:0">Caption</label><input type="text" name="candid_caption" id="candid_caption" label="Caption" /></p>                                 <p><input type="checkbox" name="candid_terms" id="candid_terms" /><label for="candid_terms">I agree to the terms</label></p>                                 <p><input type="submit" name="submit" title="Submit" aria-label="Submit" /></p>                             </form>                             <div id="candid-progress-img-loader">                                 <ul class="candid-spinner"><li></li><li></li><li></li><li></li></ul>                             </div>                         </div>                         <div class="controls">                             <a class="candid-close" onclick="candid.closeProgress();"></a>                         </div>                     </div>                 </div>'},closeProgress:function(){this.e("candid-progress").style.visibility="hidden";this.e("candid-progress-img-loader").style.visibility="hidden"},swipedetect:function(c,m){var l=c,d,h,f,k,j,g=50,i=100,b=300,n,a,e=m||function(o){};if(c.hasSwipeDetect){return}c.hasSwipeDetect=true;l.addEventListener("touchstart",function(q){var o=q.changedTouches[0];d="none";dist=0;h=o.pageX;f=o.pageY;a=new Date().getTime()},false);l.addEventListener("touchmove",function(o){},false);l.addEventListener("touchend",function(q){var o=q.changedTouches[0];k=o.pageX-h;j=o.pageY-f;n=new Date().getTime()-a;if(n<=b){if(Math.abs(k)>=g&&Math.abs(j)<=i){d=(k<0)?"left":"right"}else{if(Math.abs(j)>=g&&Math.abs(k)<=i){d=(j<0)?"up":"down"}}}e(d)},false)},move:function(e,f){var d=this.e("candid-prev"),b=this.e("candid-next"),g=!candid.data.data[candid.lastIndex].Media.CarouselMedia||candid.data.data[candid.lastIndex].ignore;if(e!=null){e.stopPropagation();e.preventDefault()}var a=candid.loadedOptions[candid.lastControlId];if(typeof(a.move)=="function"){a.move.call(candid.data.data[candid.lastIndex],f)}if(!g){candid.carouselIndex+=f;var c=candid.data.data[candid.lastIndex].Media.CarouselMedia.length-1;g=(candid.carouselIndex>c||candid.carouselIndex<0)}if(g){candid.carouselIndex=null;candid.lastIndex+=f;var c=candid.data.data.length-1;if(candid.lastIndex>c){candid.lastIndex=0}else{if(candid.lastIndex<0){candid.lastIndex=c}}}this.showMedia(candid.lastIndex,candid.data,candid.lastControlId,candid.carouselIndex,f);return false},next:function(a){return this.move(a,1)},prev:function(a){return this.move(a,-1)},trackClick:function(e,g,a,d,b,f,h){var c=candid.loadedOptions[candid.lastControlId];if(typeof(c.click)=="function"){c.click.call(e,g.data[d],a)}candid.analytics().trackExternalLink(e,"widget-click",{StreamId:g.streamId,Media:g.data[d].Media,ControlId:candid.lastControlId,LoadedOptions:c,Tag:a,Url:window.location,RawUrl:window.location.toString(),Referrer:document.referrer,CandidUserId:candid.uniqueUserId(),Origin:b,UserAgent:"${keen.user_agent}",keen:{addons:[{name:"keen:url_parser",input:{url:"RawUrl"},output:"ParsedUrl"},{name:"keen:ua_parser",input:{ua_string:"UserAgent"},output:"ParsedUserAgent"}]}},f,h)},click:function(b,a,c){this.trackClick(b,candid.data,this.getTagById(c),a,"product",3000,function(){return false});return false},getTagUrl:function(a,b){if(b.proxyUrl){return b.proxyUrl+(b.proxyUrl.indexOf("?")>0?"&":"?")+"tagUrl="+encodeURIComponent(a.Url)}return this.getTagProperty("Url",a,b)},getMediaUrl:function(a){return encodeURIComponent(this.updateQueryStringParameter(window.location.toString(),"candid_id",a.Media.Id))},httpsUrl:function(d,b){var c=d.Source!="Pinterest";var a=b=="low"?d.Images.LowResolution.Url:d.Images.StandardResolution.Url;return c?a.replace(/^https?:/i,""):a},getShareLink:function(b,a){return"<a target='_blank' title='Share this with your network on "+b+"' href=\""+a+"\" class='c-"+b+"'><i class='candid-icon candid-fa-"+b.toLowerCase()+"'></i></a>"},gaEvent:function(c,b,a){if("undefined"!=typeof ga){var d=ga.getAll()[0].get("name");""!=d&&"undefined"!=d&&"t0"!=d?ga(d+".send","event","candid",c,b,a):ga("send","event","candid",c,b,a)}else{"undefined"!=typeof pageTracker&&null!==pageTracker&&"undefined"!=typeof pageTracker._trackEvent?pageTracker._trackEvent("candid",c,b,a):"undefined"!=typeof _gaq&&null!==_gaq&&_gaq.push(["_trackEvent","candid",c,b,a])}},showMedia:function(S,W,aa,C,F){var Z=W.settings!=null?W.settings.DisplaySettings:null;var q=candid.loadedOptions[aa];var P=W.data[S].Media;if(W.data[S].ignore){if(F>0){candid.next(null)}else{if(F<0){candid.prev(null)}}return}if(typeof(q.view)=="function"){q.view.call(W.data[S],q)}if(F>0&&S==W.data.length-1){if(typeof(q.last)=="function"){q.last.call(W.data[S],q)}}candid.analytics().addEvent("widget-view",{StreamId:W.streamId,Media:P,ControlId:aa,LoadedOptions:q,Url:window.location,RawUrl:window.location.toString(),Referrer:document.referrer,CandidUserId:candid.uniqueUserId(),UserAgent:"${keen.user_agent}",keen:{addons:[{name:"keen:url_parser",input:{url:"RawUrl"},output:"ParsedUrl"},{name:"keen:ua_parser",input:{ua_string:"UserAgent"},output:"ParsedUserAgent"}]}});var z=this.e("overlay-profile-username"),V=this.e("overlay-profile-img-link");this.setTextContent(z,P.User.UserName?(P.Source=="Instagram"||P.Source=="Twitter"?"@":"")+P.User.UserName:"");this.e("candid-overlay-caption").innerHTML=W.data[S].CaptionHtml||"";if(Z&&Z.PromotedHashtag&&!P.User.UserName){this.setTextContent(z,Z.PromotedHashtag.replace("#",""))}if(!(Z&&Z.DisableContributorLinks)){z.href=V.href=P.User.ProfileUrl||"javascript:void(0);"}var E=this.e("overlay-profile-fullname");this.setTextContent(E,P.User.FullName);var d=this.e("candid-overlay-img"),o=this.e("candid-overlay-img-bg");imgLink=this.e("candid-overlay-img-link"),galleryContainer=this.e("candid-overlay-gallery-container"),video=this.e("candid-overlay-video"),iframe=this.e("candid-overlay-iframe"),overlay=this.e("candid-image-overlay"),zoom=this.e("candid-zoom-overlay"),play=this.e("candid-zoom-overlay-play"),footer=this.e("candid-zoom-overlay-footer"),footerMobile=this.e("candid-zoom-overlay-footer-mobile");d.markers=null;d.src=o.src="//"+candid.host+"/images/blank.png";d.alt=P.Caption;imgLink.style.display=d.style.display=overlay.style.display="";imgLink.getElementsByClassName("candid-carousel")[0].innerHTML=P.CarouselMedia?((C||0)+1)+"/"+P.CarouselMedia.length:"";if(!C){candid.carouselIndex=0}if(q.gallery){galleryContainer.getElementsByTagName("a")[0].href=q.gallery.url}var s=d.parentNode.getElementsByClassName("cm");while(s[0]){s[0].parentNode.removeChild(s[0])}video.style.visibility="hidden";iframe.style.display="none";iframe.innerHTML="";video.style.position="absolute";var L=/Mobi/.test(navigator.userAgent);var K=this.getMediaUrl(W.data[S]);var x=P.CarouselMedia?P.CarouselMedia[C||0]:null;var I=x?x.Type:"",Q=(I=="image"&&x?x:P).Images.StandardResolution.Url,A=I=="video"&&x?x.Videos.StandardResolution.Url:"",U=Q.split(/\#|\?/)[0].split(".").pop();if(P.Type=="video"&&U=="mp4"){imgLink.style.display=overlay.style.display=play.style.display="none"}if(typeof(video.pause)!="undefined"){video.pause()}if((P.Type=="video"||I=="video")&&P.EmbedUrl==null){video.setAttribute("src",I=="video"?A:P.Videos.StandardResolution.Url);if(!q.highlight&&((L&&q.autoplayMobile)||(!L&&q.autoplay))){setTimeout(function(){play.onclick()},100)}else{play.style.display="block";video.style.visibility="visible";video.style.position="relative";imgLink.style.display=overlay.style.display="none"}}else{if(P.Type=="video"&&P.EmbedUrl!=null){iframe.innerHTML="<iframe type='text/html' src='"+P.EmbedUrl+"' allowfullscreen='true'/>";iframe.style.display="";d.style.display="none"}else{play.style.display="none"}}if(q.edit||this.getParameterByName("candid_edit")){var k=this.e("candid-edit"),M=k.parentNode;k.innerHTML="<a href='//www.getcandid.com/stream/view/?id="+q.id+"&ids="+P.Id+"&placements=true' target='_blank'><i class='candid-icon candid-fa-tags'></i>&nbsp;Edit</a>";k.style.display="";if(M.offsetHeight==0){M.style.display="block"}}zoom.style.visibility="inherit";var D="<div class='candid-share'>"+this.getShareLink("Tumblr","https://tumblr.com/share/photo?clickthru="+K+"&source="+Q+"&caption="+encodeURIComponent(P.Caption))+this.getShareLink("Facebook","https://www.facebook.com/dialog/feed?app_id=812314252158705&display=popup&link="+K+"&redirect_uri="+encodeURIComponent("https://www.getcandid.com/?r="+K)+"&caption="+encodeURIComponent(W.data[S].CaptionHtml))+this.getShareLink("Pinterest","https://pinterest.com/pin/create/button/?url="+K+"&media="+Q+"&description="+encodeURIComponent(P.Caption))+this.getShareLink("Twitter","https://twitter.com/share?url="+K)+"</div>";zoom.innerHTML=Z&&Z.ShowShareButtons?D:"";this.e("candid-overlay-share").innerHTML=D.replace(/\-64\.png/g,"-64-b.png");if(P.Source=="Twitter"){zoom.innerHTML+='<span class="halflings heart"></span>'+P.LikesDisplay+' <span class="halflings retweet" style="padding-right:3px"></span>'+P.Retweets}else{if(P.Source=="Instagram"||P.Source=="Facebook"){zoom.innerHTML+='<span class="halflings heart"></span>'+P.LikesDisplay+' <span class="halflings comments"></span>'+P.Comments}else{zoom.style.visibility="hidden"}}if(U!="mp4"){this.preloadImage(Q,function(){d.src=o.src=Q;candid.swipedetect(d,function(i){if(i=="left"){candid.next(null)}if(i=="right"){candid.prev(null)}});var c=d.markers;if(null!=c){for(var a=0;a<c.length;a++){c[a].e.style.left=d.offsetLeft+(c[a].X/100*d.clientWidth)+"px";c[a].e.style.top=d.offsetTop+(c[a].Y/100*d.clientHeight)+"px"}}})}video.onplay=function(){imgLink.style.display=overlay.style.display=play.style.display="none"};play.onclick=function(){video.style.visibility="visible";video.style.position="relative";if(!video.getAttribute("data-pause")&&!L){video.addEventListener("pause",function(){imgLink.style.display=overlay.style.display="";if(video.style.visibility=="visible"){play.style.display="block";if(d.complete&&d.naturalHeight>1){video.style.visibility="hidden";video.style.position="absolute"}}},false);video.setAttribute("data-pause",true)}video.play();return false};d.onclick=function(){if(P.Type=="video"||I=="video"){return play.onclick()}};imgLink.onclick=null;imgLink.removeAttribute("href");imgLink.className="sn-"+P.Source;var b="//"+candid.host;var G=this.e("overlay-profile-img"),f=this.e("overlay-profile-img-sub");G.src=b+"/images/blank.png";V.style.visibility=f.style.visibility="";G.src=candid.p(b,P.User.ProfilePicture,"f=profile&u="+P.User.UserName);G.onerror=function(){this.src=b+"/images/no-profile-image.jpg"};var X="sn-"+P.Source+" sp-"+(P.User.UserName||"").replace(/\s/g,"");V.className=X;f.className="name "+X;V.title="Photo courtesy of @"+P.User.UserName+" via "+P.Source;var B=this.e("candid-overlay-links");var H=this.e("candid-overlay-link-heading");var l=this.e("candid-overlay-link-items");B.style.visibility="visible";footer.innerHTML="";footerMobile.innerHTML="";l.innerHTML=null!=W.data[S].CaptionHtml?'<p class="candid-caption">'+W.data[S].CaptionHtml+"</p>":"";l.className="";if(null!=H){this.setTextContent(H.firstChild,"");H.style.display="none"}if(null!=W.data[S].StreamEntry&&null!=W.data[S].StreamEntry.Tags){var n=0;for(var R=0;R<W.data[S].StreamEntry.Tags.Items.length;R++){if(null!=W.data[S].StreamEntry.Tags.Items[R].TagId){var O=this.getTag(W.data[S].StreamEntry.Tags.Items[R].TagId);var J=W.data[S].StreamEntry.Tags.Items[R];if(null!=O&&O.Type!="Placement"&&(q.scrollTags||n<3||n<q.maxItems&&(J.X>0||J.Y>0))){(function(a,c){imgLink.setAttribute("href",candid.getTagUrl(a,q));imgLink.onclick=function(){candid.trackClick(imgLink,W,a,c,"image",3000,function(){return false})}})(O,S);if(q.useDescription&&O.Description&&!(O.UseCaption&&this.isApproved(O,P.User.UserName))){footer.innerHTML="";this.setTextContent(footer,O.Description);if(q.overrideCaption){this.e("candid-overlay-caption").innerHTML=O.Description}}else{if(W.data[S].CaptionHtml!=null){footer.innerHTML=W.data[S].CaptionHtml}}if(null!=P.User.ProfilePicture){footerMobile.innerHTML='<img class="user-avatar" src='+P.User.ProfilePicture+' onerror="this.parentNode.removeChild(this);"></img>'}B.style.visibility="visible";if(n==0){l.className+=" scroll-"+(q.scrollTags?"y":"n");l.innerHTML=q.scrollTags?'<span class="halflings chevron-left" onclick="candid.pageTags(-1)"></span><span class="halflings chevron-right" onclick="candid.pageTags(1)"></span>':""}var e="",v="",N="",g="",h='onclick="candid.click(this, '+S+",'"+O.Id+'\');" target="'+q.linksTarget+'" href="'+candid.getTagUrl(O,q).replace(/"/g,"%22")+'"';if(q.buyText){e='<a class="candid-buy" '+h+"><span>"+q.buyText+"</span></a>";g+=" hasBuy"}if(O.Price){v='<div class="candid-price"><div><span>'+q.currencySymbol+"</span></div><span>"+new Number(O.Price.toFixed(2)).toLocaleString()+"</span></div>";g+=" hasPrice"}if(O.Style){N='<div class="candid-style"><div><span>STYLE #</span></div><span>'+O.Style+"</span></div>"}var u=this.getTagProperty("DisplayText",O,q);if(q.inlineHeading){u+="<span class='tagHeadline'>"+O.Headline+"</span>"}if(!O.ImageUrl){l.insertAdjacentHTML("beforeend",'<div class="item '+g+'" id="candid-item'+R+'" data-tag-id="'+O.TagId+'"><a class="product-btn candid-btn" '+h+' id="product-label'+R+'">'+u+"</a></div>")}else{l.insertAdjacentHTML("beforeend",'<div class="item '+g+'" id="candid-item'+R+'" data-tag-id="'+O.TagId+'"><a class="candid-image-btn" '+h+'><img id="product-image'+R+'" onmouseover="candid.marker(this,1)" onmouseout="candid.marker(this,0)" src="//'+candid.host+'/images/blank.png" data-cm="candid-marker-'+(n+1)+'" alt="'+this.getTagProperty("DisplayText",O,q)+'"></img>                                                                        <ul class="candid-spinner"><li></li><li></li><li></li><li></li></ul>                                                                        </a><a class="product-label" '+h+' onmouseover="candid.marker(this,1)" onmouseout="candid.marker(this,0)" data-cm="candid-marker-'+(n+1)+'" id="product-label'+R+'"><label class="candid-marker">'+(n+1)+"</label>"+u+"</a>"+e+N+v+"</div>");var y="//"+candid.host+"/image/"+(Z&&Z.UseSslOrigin&&O.ImageUrl.match(/^https:\/\//i)?"s":"h")+"/"+encodeURIComponent(O.ImageUrl.replace(/^https?:\/\//i,""))+"?w=500";this.preloadImage(y,(function(a,c){return function(){a.src=c;a.parentNode.getElementsByClassName("candid-spinner")[0].style.visibility="hidden"}})(candid.e("product-image"+R),y),(function(a){return function(){a.src="//"+q.host+"/stream/placeholder/?id="+q.id+"&cache="+q.cache;a.parentNode.getElementsByClassName("candid-spinner")[0].style.visibility="hidden"}})(candid.e("product-image"+R)));if(!candid.carouselIndex&&J.X>0&&J.Y>0){var Y=document.createElement("a"),T=document.createElement("div");Y.className="cm candid-marker";Y.href=candid.getTagUrl(O,q);Y.target="_blank";Y.setAttribute("data-pi",R);Y.onmouseover=function(){candid.marker(this,1)};Y.onmouseout=function(){candid.marker(this,0)};Y.onclick=function(c,a){return function(){candid.click(this,c,a.Id)}}(S,O);Y.id="candid-marker-"+(n+1);Y.style.left=T.style.left=d.offsetLeft+(J.X/100*d.clientWidth)+"px";Y.style.top=T.style.top=d.offsetTop+(J.Y/100*d.clientHeight)+"px";Y.innerHTML=(n+1);T.className="cm candid-marker-text";T.innerHTML="<div class='candid-marker-arrow'></div>"+this.getTagProperty("DisplayText",O,q);T.id="candid-marker-"+(n+1)+"t";d.parentElement.appendChild(T);d.parentElement.appendChild(Y);if(d.clientWidth<=q.clientWidthThreshold){if(null==d.markers){d.markers=[]}d.markers.push({e:Y,X:J.X,Y:J.Y},{e:T,X:J.X,Y:J.Y})}}}if(null!=H&&n==0){H.style.display="";H.classList.add("candid-fadeInLeft");this.setTextContent(H.firstChild,O.Headline&&!q.inlineHeading?O.Headline:q.linksHeading);H.setAttribute("data-tag-id",O.Headline&&!q.inlineHeading?O.TagId:null);setTimeout(function(){H.classList.remove("candid-fadeInLeft")},3000)}n++}}}if(q.alsoLikeText&&n>1){l.childNodes[0].insertAdjacentHTML("afterend","<h2 class='alsoLike' data-next-id='"+l.childNodes[1].getAttribute("data-tag-id")+"'><span>"+q.alsoLikeText+"</span></h2>")}this.regCount([l,H,footer,V.parentNode],n)}},getTagProperty:function(e,b,d){if(d.language){var c=null;if(e=="DisplayText"){c=b.AlternateDisplayTexts}else{if(e=="Url"){c=b.AlternateUrls}}if(c){var f=c.filter(function(a){return a.Language==d.language});if(f.length&&f[0][e]){return f[0][e]}}}return b[e]||""},pageTags:function(d){var g=this.e("candid-overlay-link-items").getElementsByClassName("item");for(var f=0;f<g.length;f++){if(g[f].offsetHeight>0){var h=null!=g[f].nextSibling&&g[f].nextSibling.offsetHeight>0?2:1;if(h==2){var e=d>0?f:f+1,c=d>0?f+2:f-1;g[e].style.display="none";if(c>=0&&c<g.length){g[c].style.display="inline-block"}else{g[c-1*d].style.display="none";g[d>0?0:g.length-2].style.display=g[d>0?1:g.length-1].style.display="inline-block"}}else{g[f].style.display="none";g[f+1<g.length?f+1:0].style.display="block"}break}}},regCount:function(b,c){for(var a=0;a<b.length;a++){b[a].className=b[a].className.replace(/\s+candid-items\d+/g,"")+" candid-items"+c}},marker:function(g,h){var l=candid.loadedOptions[candid.lastControlId];var c=g.getAttribute("data-pi");var f=candid.e(g.id+"t");if(null!=c){var d=candid.e("candid-item"+c);d.className=h?d.className+" hover":d.className.replace(/ hover$/g,"");if(candid.oneTag(l)){var a=this.e("candid-overlay-link-items").getElementsByClassName("item");for(var c=0;c<a.length;c++){a[c].style.display="none"}d.style.display="block"}}else{var b=g.getAttribute("data-cm"),k=candid.e(b);f=candid.e(b+"t");if(null!=k){k.className=h?"cm candid-marker candid-active":"cm candid-marker"}}if(null!=f){f.className=h?"cm candid-marker-text candid-active":"cm candid-marker-text"}},getTag:function(a){return this.getTagFromSet(a,this.tags)},getTagFromSet:function(c,b){var d=this.shuffleArray(b.slice(0));if(d.length){for(var a=0;a<d.length;a++){if(d[a].TagId==c){return d[a]}}}return null},isApproved:function(a,c){for(var b=0;b<a.ApprovedAccounts.length;b++){if(a.ApprovedAccounts[b].UserName==c){return true}}return false},getTagById:function(b){for(var a=0;a<this.tags.length;a++){if(this.tags[a].Id==b){return this.tags[a]}}return null},shuffleArray:function(g){for(var h=g.length-1;h>0;h--){var e=Math.floor(Math.random()*(h+1));var f=g[h];g[h]=g[e];g[e]=f}return g},setTextContent:function(a,b){if(null!=a){while(a.firstChild!==null){a.removeChild(a.firstChild)}a.appendChild(document.createTextNode(b))}},e:function(a){return document.getElementById(a)},overlay:function(a,b){if(null!=a){a.stopPropagation();a.preventDefault()}var i=this.e;var d=i("candid-prev"),g=i("candid-next"),j=i("candid-overlay-links"),c=i("candid-overlay-video"),f=i("candid-overlay-iframe");d.style.visibility=g.style.visibility=j.style.visibility=c.style.visibility="hidden";f.style.display="none";f.innerHTML="";if(typeof(c.pause)!="undefined"){c.pause()}var h=document.getElementsByTagName("body")[0];if("ontouchstart" in document.documentElement&&h.classList){if(b=="visible"){h.classList.add("candid-open")}else{h.classList.remove("candid-open")}}el=i("candid-overlay");if((el.style.visibility=b)=="visible"){el.focus();if(candid.closeOnBack){window.location.hash=candid.hash}d.style.visibility=g.style.visibility="visible";i("candid-overlay").onkeydown=function(l){if(this.style.visibility=="visible"){switch(l.keyCode){case 13:var k=document.getElementById("candid-overlay-img-link");if(null!=k){k.click()}break;case 27:candid.overlay(l,"hidden");break;case 37:case 38:candid.prev(l);break;case 39:case 40:candid.next(l);break}}}}else{if(window.location.hash=="#"+candid.hash&&candid.closeOnBack){history.back()}}},load:function(f){var c=document.getElementsByClassName("candid-widget");var g=candid.defaultOptions;for(var a=0;a<c.length;a++){var b=c[a];if(!b.getAttribute("data-candid")){b.id=candid.newId();b.setAttribute("data-candid",true);candid.init({id:b.getAttribute("data-id"),margin:b.getAttribute("data-margin")||g.margin,width:b.getAttribute("data-width")||g.width,count:b.getAttribute("data-count")||g.count,tag:b.getAttribute("data-tag"),tagUrl:b.getAttribute("data-tagUrl"),sort:b.getAttribute("data-sort"),containerId:b.id})}}},hashchange:function(a){if(window.location.hash!="#"+candid.hash&&candid.closeOnBack){candid.overlay(a,"hidden")}},message:function(f){var k=null;try{k=JSON.parse(f.data)}catch(f){}if(null!=k){var m=k.controlId?candid.loadedOptions[k.controlId]:null;if(k.results!=null&&k.results.streamId!=null){candid.lastIndex=parseInt(k.index);candid.data=k.results;candid.tags=k.tags;candid.lastControlId=k.controlId;if(null!=m&&null!=m.customTags&&m.customTags.length){candid.tags=m.customTags;var g=[];for(var d=0;d<m.customTags.length;d++){if(g.indexOf(m.customTags[d].TagId)==-1){g.push(m.customTags[d].TagId)}}var n={Items:[],Count:g.length};for(var d=0;d<g.length;d++){n.Items.push({TagId:g[d]})}for(var d=0;d<candid.data.data.length;d++){candid.data.data[d].StreamEntry.Tags=n}}if(k.linkMode=="direct"){var l=candid.data.data[candid.lastIndex].StreamEntry;if(null!=l&&null!=l.Tags){var n=l.Tags.Items.filter(function(a){return a.TagType=="Product"});if(n){var o=candid.getTag(n[0].TagId);if(null!=o){var j=document.createElement("a");j.target=m.linksTarget;j.setAttribute("href",candid.getTagUrl(o,m));j.onclick=function(){candid.trackClick(j,candid.data,o,candid.lastIndex,"product",3000,function(){return false})};j.click()}}}}else{if(k.linkMode=="profile"){document.location=candid.data.data[candid.lastIndex].Media.User.ProfileUrl}else{if(k.linkMode=="gallery"){var l=candid.data.data[candid.lastIndex].StreamEntry;document.location=m.gallery.url+"?candid_id="+l.MediaId}else{if(m.fb){$.getScript("//connect.facebook.net/en_US/sdk.js",function(){FB.init({appId:"812314252158705",version:"v2.5"});FB.Canvas.getPageInfo(function(a){$({y:a.scrollTop}).animate({y:a.offsetTop-100},{duration:750,step:function(c){FB.Canvas.scrollTo(0,c)}})})})}candid.overlay(null,"visible");candid.showMedia(candid.lastIndex,candid.data,candid.lastControlId,0)}}}}else{if(k.event=="onload"&&k.controlId.length){if(!k.disableLoadTracking){candid.analytics().addEvent("widget-load",{StreamId:k.streamId,Url:window.location,RawUrl:window.location.toString(),Referrer:document.referrer,CandidUserId:candid.uniqueUserId(),UserAgent:"${keen.user_agent}",keen:{addons:[{name:"keen:url_parser",input:{url:"RawUrl"},output:"ParsedUrl"},{name:"keen:ua_parser",input:{ua_string:"UserAgent"},output:"ParsedUserAgent"}]}})}candid.e(k.controlId).style.visibility="visible"}else{if(k.event=="results-ready"){var h=candid.e(k.controlId);if(typeof(m.ready)=="function"){m.ready.call(h,k)}}else{if(k.event=="no-results"){var h=candid.e(k.controlId);if(m.placeholderId){h.style.display="none";var b=candid.e(m.placeholderId);if(null!=b){b.style.display=m.placeholderDisplay}}else{if(m.hideIfEmpty){h.style.display="none"}}if(typeof(m.empty)=="function"){m.empty.call(h,k)}}}}}}},preloadImage:function(b,d,a){var c=new Image();c.src=b;if(c.complete){d();c.onload=function(){}}else{c.onload=function(){d();c.onload=function(){}};if(typeof a!="undefined"){c.onerror=function(){a();c.onerror=function(){}}}}},safe:function(a){var b=document.createElement("div");b.innerHTML=a;return b.innerText},upload:function(d,a,b,e){if(!e){e={}}this.setTextContent(this.e("candid-progress-text"),e.title||"Upload Your Photos");var c=this.e("candid-uploadfields");this.e("candid-progress-img-loader").style.visibility="hidden";this.e("candid-progress").style.visibility="visible";c.style.display="";c.submit.value=e.submit||"Choose Files";c.candid_name.setAttribute("placeholder",e.name||"Name");c.candid_name.setAttribute("title",e.name||"Name");c.candid_name.value=this.getCookie("candid_name");c.candid_name.focus();c.candid_email.setAttribute("placeholder",e.email||"Email");c.candid_email.setAttribute("title",e.email||"Email");c.candid_email.value=this.getCookie("candid_email");if(e.caption&&e.caption.enabled){c.candid_caption.setAttribute("placeholder",e.caption.label||"Caption")}else{c.candid_caption.parentElement.style.display="none"}if(e.terms&&e.terms.enabled){c.candid_terms.checked=e.terms.checked||false;c.candid_terms.nextSibling.innerHTML=e.terms.label||"I agree to the terms"}else{c.candid_terms.parentElement.style.display="none"}c.onsubmit=function(){var g=candid.safe(c.candid_name.value);var f=candid.safe(c.candid_email.value);var h=candid.e("candid-uploadfields-error");candid.setTextContent(h,e.required||"Please enter your name & email");candid.resetCookie("candid_name",g);candid.resetCookie("candid_email",f);if(e.terms&&e.terms.enabled&&!c.candid_terms.checked){candid.setTextContent(h,e.required||"Please accept the terms to continue");h.style.visibility="inherit";return false}if(g&&f){c.style.display="none";candid.e("candid-progress").style.visibility=h.style.visibility="hidden";e.ui=1;candid.processUpload(d,a,b,{Name:g,Email:f,Caption:candid.safe(c.candid_caption.value)},e)}else{h.style.visibility="inherit"}return false}},processUpload:function(d,a,b,c,e){(function(i){if(window.filepicker){return}var h=i.createElement("script");h.type="text/javascript";h.async=!0;h.src=("https:"===i.location.protocol?"https:":"http:")+"//api.filepicker.io/v2/filepicker.js";var n=i.getElementsByTagName("script")[0];n.parentNode.insertBefore(h,n);var m={};m._queue=[];var l="pick,pickMultiple,pickAndStore,read,write,writeUrl,export,convert,store,storeUrl,remove,stat,setKey,constructWidget,makeDropPane".split(",");var k=function(g,f){return function(){f.push([g,arguments])}};for(var j=0;j<l.length;j++){m[l[j]]=k(l[j],m._queue)}window.filepicker=m})(document);if(!e){e={}}filepicker.setKey(e&&e.key?e.key:"AI19m1ivyRliTpxJfrtpHz");filepicker.pickAndStore({multiple:true,maxFiles:10,mimetype:"image/*",language:e&&e.language?e.language:"en",services:e&&e.services?e.services:null},{path:d+"/"},function(f){if(e.ui){candid.setTextContent(candid.e("candid-progress-text"),e&&e.processing?e.processing:"Processing uploads...");candid.e("candid-progress").style.visibility="visible";candid.e("candid-progress-img-loader").style.visibility="visible"}for(var g=0;g<f.length;g++){var h=f[g];(function(i){filepicker.stat(i,{width:true,height:true},function(j){filepicker.convert(i,{width:320,height:320,rotate:"exif"},{path:d+"/"},function(k){filepicker.convert(i,{width:150,height:150,rotate:"exif"},{path:d+"/"},function(m){var n={Tags:a,User:{Username:c.Name,Email:c.Email},Caption:c.Caption,Type:"image",CustomField0:e.customField0,CustomField1:e.customField1,CustomField2:e.customField2,Images:{StandardResolution:{Url:i.url,Width:j.width,Height:j.height},LowResolution:{Url:k.url,Width:306,Height:306},Thumbnail:{Url:m.url,Width:150,Height:150}}};var l=new XMLHttpRequest();l.timeout=5000;l.open("POST","//"+b+"/stream/uploadimage/?streamId="+d+"&rightsApproved="+e.rightsApproved,true);l.setRequestHeader("Content-Type","application/json; charset=utf-8");l.onreadystatechange=function(){if(l.readyState===4){var o=JSON.parse(l.responseText);if(l.status===200&&o!=null&&o.Error==0){if(e.ui){candid.setTextContent(candid.e("candid-progress-text"),e&&e.thankYou?e.thankYou:"Thank you! Your submission is being reviewed.");candid.e("candid-progress-img-loader").style.visibility="hidden"}if(typeof(e.success)=="function"){e.success.call(n,o)}}else{if(e.ui){candid.setTextContent(candid.e("candid-progress-text"),e&&e.failed?e.failed:"Upload failed. Ensure this domain is registered as a safe upload domain.");candid.e("candid-progress-img-loader").style.visibility="hidden"}if(typeof(e.error)=="function"){e.error.call(n,o,null)}}setTimeout(function(){candid.closeProgress()},2000)}};l.send(JSON.stringify(n))})})})})(h)}})},trackVote:function(d,c,a,b){candid.analytics().addEvent("widget-vote",{StreamId:d,Media:c.data[a].Media,Url:window.location,RawUrl:window.location.toString(),Referrer:document.referrer,CandidUserId:candid.uniqueUserId(),UserAgent:"${keen.user_agent}",keen:{addons:[{name:"keen:url_parser",input:{url:"RawUrl"},output:"ParsedUrl"},{name:"keen:ua_parser",input:{ua_string:"UserAgent"},output:"ParsedUserAgent"}]}});if(b){alert(b)}},trackConversion:function(a,b,e,d,f,g,c){candid.analytics().addEvent("widget-conversion",{ConversionName:a,ConversionId:b,Description:e,Price:parseFloat(d),Quantity:parseFloat(f),Total:parseFloat(d)*parseFloat(f),TransactionId:g,Url:window.location,RawUrl:window.location.toString(),Referrer:document.referrer,CandidUserId:this.uniqueUserId(),DomainUserId:c?c.domainUserId:null,StreamId:c?c.streamId:null,ReferenceId:c?c.referenceId:null,UserAgent:"${keen.user_agent}",keen:{addons:[{name:"keen:url_parser",input:{url:"RawUrl"},output:"ParsedUrl"},{name:"keen:ua_parser",input:{ua_string:"UserAgent"},output:"ParsedUserAgent"}]}})},syncUserId:function(a,c,b){candid.jsonp("//"+a+"/analytics/id/"+(c!=null?"?set="+c:""),function(d){if(d.candid_userid){candid.resetCookie("candid_userid",d.candid_userid)}else{if(d.status=="ok"){candid.resetCookie("candid_sync","1")}}if(null!=b){b(d)}})},jsonp:function(b,d){var c="jsonp_callback_"+Math.round(100000*Math.random());window[c]=function(e){delete window[c];document.body.removeChild(a);d(e)};var a=document.createElement("script");a.src=b+(b.indexOf("?")>=0?"&":"?")+"callback="+c;document.body.appendChild(a)},uniqueUserId:function(){var c=this.getCookie("candid_userid");var d=c;var a=new RegExp(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i);if(!c||!a.test(c)){var b=this.getParameterByName("candid_userid");d=(b!=null&&b.length&&a.test(b))?b:this.newId()}if(this.syncDomain&&!this.getCookie("candid_sync")){this.syncUserId(this.syncDomain,d)}this.resetCookie("candid_userid",d);return d},getTopLevelDomain:function(){var a=window.location.hostname,b=a.split(".");return b.length>2?a.replace(b[0],""):a},resetCookie:function(a,b){this.setCookie(a,b,-1,"","");this.setCookie(a,b,365,"/",this.getTopLevelDomain())},getParameterByName:function(b){var a=RegExp("[?&]"+b+"=([^&]*)").exec(window.location.search);return a&&decodeURIComponent(a[1].replace(/\+/g," "))},updateQueryStringParameter:function(c,a,d){var b=new RegExp("([?|&])"+a+"=.*?(&|$)","i");var e=c.indexOf("?")!==-1?"&":"?";if(c.match(b)){return c.replace(b,"$1"+a+"="+d+"$2")}else{return c.replace(location.hash,"")+e+a+"="+d+location.hash}},getCookie:function(d){var b=d+"=";var a=document.cookie.split(";");for(var e=0;e<a.length;e++){var f=a[e];while(f.charAt(0)==" "){f=f.substring(1)}if(f.indexOf(b)!=-1){return f.substring(b.length,f.length)}}return""},setCookie:function(a,g,b,e,c){var f=new Date();f.setTime(f.getTime()+(b*24*60*60*1000));document.cookie=a+"="+g+"; expires="+f.toGMTString()+"; path="+e+"; domain="+c+";"},newId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var b=Math.random()*16|0,a=d=="x"?b:(b&3|8);return a.toString(16)})},trackPurchase:function(d,a){try{var e=this.newId();if(a&&a.cluster){this.cluster=a.cluster}if(null!=d&&d.length){for(var b=0;b<d.length;b++){this.trackConversion("purchase",d[b].id,d[b].description,d[b].price,d[b].quantity,e,a)}}}catch(c){}}};(function(){candid.uniqueUserId();if(!document.getElementsByClassName){getElementsByClassName=function(c,b){var a=document.querySelectorAll?b.querySelectorAll("."+c):(function(){var e=b.getElementsByTagName("*"),f=[],d=0;for(;d<e.length;d++){if(e[d].className&&(" "+e[d].className+" ").indexOf(" "+c+" ")>-1&&indexOf.call(f,e[d])===-1){f.push(e[d])}}return f})();return a};document.getElementsByClassName=function(a){return getElementsByClassName(a,document)};Element.prototype.getElementsByClassName=function(a){return getElementsByClassName(a,this)}}})();if(window.addEventListener){window.addEventListener("message",candid.message,false);window.addEventListener("hashchange",candid.hashchange,false);window.addEventListener("load",candid.load)}else{window.attachEvent("onmessage",candid.load);window.attachEvent("hashchange",candid.hashchange);window.attachEvent("onload",candid.load)}document.getElementsByAttribute=Element.prototype.getElementsByAttribute=function(a){var b=this.getElementsByTagName("*");var e=[];for(var c=0,d;d=b[c];c++){if(d.getAttribute(a)){e.push(d)}}return e};!function(j,i){if(void 0===i[j]){i["_"+j]={},i[j]=function(a){i["_"+j].clients=i["_"+j].clients||{},i["_"+j].clients[a.projectId]=this,this._config=a},i[j].ready=function(a){i["_"+j].ready=i["_"+j].ready||[],i["_"+j].ready.push(a)};for(var q=["addEvent","setGlobalProperties","trackExternalLink","on"],o=0;o<q.length;o++){var n=q[o],m=function(b){return function(){return this["_"+b]=this["_"+b]||[],this["_"+b].push(arguments),this}};i[j].prototype[n]=m(n)}var l=document.createElement("script");l.type="text/javascript",l.async=!0,l.src="https://content-getcandid.netdna-ssl.com/scripts/keen-tracker.3.0.7.min.js";var k=document.getElementsByTagName("script")[0];k.parentNode.insertBefore(l,k)}}("Keen",this)};